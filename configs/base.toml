window_titles = []

[env]
backend = "windows"
obs_width = 96
obs_height = 96
frame_stack = 4
game_over_on_health_missing = true
health_missing_patience = 3
game_over_template = ""
game_over_threshold = 0.92

[env.window]
title_regex = "Irisu syndrome"
window_index = 0
focus_before_step = true

[env.window.capture_region]
left = 630
top = 285
width = 650
height = 480

[env.action_grid]
rows = 8
cols = 8
left = 630
top = 255
right = 1280
bottom = 768

[env.reward]
survival_reward = 0.01
activity_reward_scale = 0.15
cascade_threshold = 0.18
cascade_bonus = 0.25
stale_threshold = 0.01
stale_patience = 90
stale_penalty = -0.25
score_delta_scale = 0.001

[env.episode]
max_steps = 5000
action_repeat = 1
click_hold_s = 0.01
max_clicks_per_second = 3.0
inter_step_sleep_s = 0.0

[[env.reset_macro]]
kind = "click"
x = 414
y = 276
button = "left"
relative_to_capture = true
duration_s = 0.04

[[env.reset_macro]]
kind = "sleep"
duration_s = 0.8

[env.score_ocr]
enabled = false
tesseract_cmd = ""

[env.score_ocr.region]
left = 255
top = 442
width = 140
height = 60

[env.health_bar]
enabled = true
column_fill_threshold = 0.04
adaptive_fill_peak_ratio = 0.45
min_visible_pixels = 40
fill_direction = "left_to_right"
invert_percent = false
hsv_lower_1 = [0, 70, 40]
hsv_upper_1 = [12, 255, 255]
hsv_lower_2 = [170, 70, 40]
hsv_upper_2 = [179, 255, 255]

[env.health_bar.region]
left = 136
top = 450
width = 392
height = 10

[train]
n_envs = 1
total_timesteps = 1000000
n_steps = 256
batch_size = 256
learning_rate = 0.0003
gamma = 0.995
gae_lambda = 0.95
clip_range = 0.2
ent_coef = 0.01
vf_coef = 0.5
max_grad_norm = 0.5
checkpoint_every = 100000
seed = 1
device = "auto"
